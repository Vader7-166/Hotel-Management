@model IEnumerable<Hotel_Management.Models.Customer>
@{
}
<div class="table-responsive">
    <table class="table table-flush" id="customerTable">
        <thead class="thead-light">
            <tr>
                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">ID</th>
                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7 ps-2">Full Name</th>
                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7 ps-2">Email</th>
                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7 ps-2">Phone</th>
                <th class="text-uppercase text-secondary text-xs font-weight-bolder text-center opacity-7">Gender</th>
                <th class="text-uppercase text-secondary text-xs font-weight-bolder text-center opacity-7">Nationality</th>
                <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Action</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var customer in Model)
            {
                <tr>
                    <td>
                        <div class="d-flex px-2 py-1">
                            <div class="d-flex flex-column justify-content-center">
                                @* Định dạng lại ID theo yêu cầu #CID + mã *@
                                <h6 class="mb-0 text-sm">#CID@(customer.CustomerId)</h6>
                            </div>
                        </div>
                    </td>
                    <td>
                        <p class="text-sm font-weight-bold mb-0">@customer.FullName</p>
                    </td>
                    <td>
                        <p class="text-xs mb-0">@customer.Email</p>
                    </td>
                    <td>
                        <p class="text-xs mb-0">@customer.Phone</p>
                    </td>
                    <td class="align-middle text-center">
                        <span class="text-secondary text-xs font-weight-bold">@customer.Gender</span>
                    </td>
                    <td class="align-middle text-center">
                        <span class="text-secondary text-xs font-weight-bold">@customer.Nationality</span>
                    </td>
                    <td class="align-middle text-center">
                        @* Giữ nguyên các nút action *@
                        <a href="@Url.Action("Details", new { id = customer.CustomerId })" class="text-secondary font-weight-bold text-xs me-2 view-details-btn" data-bs-toggle="modal" data-bs-placement="top" title="View Details" data-bs-target="#detailsModal">
                            <i class="material-symbols-rounded">visibility</i>
                        </a>
                        <a href="@Url.Action("Edit", new { id = customer.CustomerId })" class="text-secondary font-weight-bold text-xs me-2 edit-details-btn" data-bs-toggle="modal" data-bs-placement="top" title="Edit" data-bs-target="#detailsModal">
                            <i class="material-symbols-rounded">edit</i>
                        </a>
                        <a href="#" data-id="@customer.CustomerId" data-name="@customer.FullName" class="text-secondary font-weight-bold text-xs delete-button" data-bs-toggle="tooltip" data-bs-placement="top" title="Delete">
                            <i class="material-symbols-rounded">delete</i>
                        </a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
<!-- Pagination -->
<div id="paginationContainer">
    <div class="border-top py-3 px-4">
        <div class="d-flex justify-content-between align-items-center">
            <p class="text-sm mb-0">Showing 1 to 3 of 3 entries</p>
            <nav aria-label="Page navigation">
                <ul class="pagination pagination-sm mb-0">
                    @* <li class="page-item disabled">
                                                <a class="page-link px-3" href="#" tabindex="-1">Previous</a>
                       </li> *@
                    @{
                        int currentPage = ViewBag.currentPage ?? 1;//kiểm tra hiện tại đang ở trang nào, mặc định là 1
                        int pageNum = ViewBag.pageNum ?? 1;//kiểm tra biến tổng số trang để chứa số lượng khách hàng đã lọc
                    }

                    <li class="page-item @(currentPage == 1 ? "disabled" : "")" page="@(currentPage - 1)"> @*nếu current page là 1, ở trang đầu, không thể active được, khi nhấn vào sẽ
                                                                                                             truyền giá trị page về cho controller*@
                        <a class="page-link px-3" href="#">Previous</a>
                    </li>

                    @for (int i = 1; i <= pageNum; i++)
                    {
                        <li class="page-item @(i == currentPage ? "active" : "")" page="@i"> @*kiểm tra số thứ tự trang hiện tại có bằng currentpage không, nếu có thì để là active*@
                            <a class="page-link" href="#">@i</a>
                        </li>
                    }

                    <li class="page-item @(currentPage == pageNum ? "disabled" : "")" page="@(currentPage + 1)">
                        <a class="page-link px-3" href="#">Next</a>
                    </li>
                    @* <li class="page-item">
                                                <a class="page-link px-3" href="#">Next</a>
                                            </li> *@
                </ul>
            </nav>
        </div>
    </div>
